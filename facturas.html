<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calculadora facturas autÃ³nomos 2026: calcula IVA, retenciÃ³n IRPF y total a cobrar. Facturas con y sin retenciÃ³n, a empresas y particulares.">
    <meta name="keywords" content="calculadora facturas autÃ³nomos, IVA factura, retenciÃ³n IRPF factura, factura sin retenciÃ³n, factura autÃ³nomo">
    <title>Calculadora Facturas AutÃ³nomos 2026 | IVA y RetenciÃ³n | CalculaLoTuyo</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="canonical" href="https://calculalotuyo.es/facturas">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- ANALYTICS: Reemplaza G-Z1JPGHYYP6 por tu ID -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z1JPGHYYP6"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag("js",new Date());gtag("config","G-Z1JPGHYYP6");</script>
    <!-- ADSENSE: Reemplaza ca-pub-4853214655991551 por tu ID -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4853214655991551" crossorigin="anonymous"></script>
</head>
<body>
<header class="header"><div class="header-inner"><a href="/" class="logo"><div class="logo-mark">CL</div>CalculaLoTuyo</a><nav class="nav"><div class="nav-dropdown" data-dropdown><button class="nav-link" data-dropdown-btn>Despido <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="nav-dropdown-menu"><a href="/despido-improcedente">âš–ï¸ Despido Improcedente</a><a href="/despido-objetivo">ğŸ“‹ Despido Objetivo</a><a href="/ere">ğŸ“Š ERE / Colectivo</a></div></div><div class="nav-dropdown" data-dropdown><button class="nav-link" data-dropdown-btn>LiquidaciÃ³n <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="nav-dropdown-menu"><a href="/finiquito">ğŸ’µ Finiquito</a><a href="/paro">ğŸ“Š PrestaciÃ³n Paro</a></div></div><div class="nav-dropdown" data-dropdown><button class="nav-link" data-dropdown-btn>NÃ³mina <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="nav-dropdown-menu"><a href="/sueldo-neto">ğŸ¦ Sueldo Neto</a><a href="/irpf">ğŸ“‘ IRPF</a><a href="/horas-extra">â° Horas Extra</a><a href="/pagas-extra">ğŸ Pagas Extra</a><a href="/vacaciones">ğŸ–ï¸ Vacaciones</a></div></div><div class="nav-dropdown" data-dropdown><button class="nav-link" data-dropdown-btn>AutÃ³nomos <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="nav-dropdown-menu"><a href="/cuota-autonomos">ğŸ’¼ Cuota Mensual</a><a href="/facturas">ğŸ§¾ Facturas</a></div></div><a href="/" class="nav-cta">Todas</a></nav><button class="menu-btn" id="menuBtn"><span></span><span></span><span></span></button></div></header>
<nav class="mobile-nav" id="mobileNav"><div class="mobile-nav-section"><button class="mobile-nav-title" data-mobile-toggle>Despido <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="mobile-nav-links"><a href="/despido-improcedente" class="mobile-nav-link">âš–ï¸ Despido Improcedente</a><a href="/despido-objetivo" class="mobile-nav-link">ğŸ“‹ Despido Objetivo</a><a href="/ere" class="mobile-nav-link">ğŸ“Š ERE / Colectivo</a></div></div><div class="mobile-nav-section"><button class="mobile-nav-title" data-mobile-toggle>LiquidaciÃ³n <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="mobile-nav-links"><a href="/finiquito" class="mobile-nav-link">ğŸ’µ Finiquito</a><a href="/paro" class="mobile-nav-link">ğŸ“Š PrestaciÃ³n Paro</a></div></div><div class="mobile-nav-section"><button class="mobile-nav-title" data-mobile-toggle>NÃ³mina <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="mobile-nav-links"><a href="/sueldo-neto" class="mobile-nav-link">ğŸ¦ Sueldo Neto</a><a href="/irpf" class="mobile-nav-link">ğŸ“‘ IRPF</a><a href="/horas-extra" class="mobile-nav-link">â° Horas Extra</a><a href="/pagas-extra" class="mobile-nav-link">ğŸ Pagas Extra</a><a href="/vacaciones" class="mobile-nav-link">ğŸ–ï¸ Vacaciones</a></div></div><div class="mobile-nav-section"><button class="mobile-nav-title" data-mobile-toggle>AutÃ³nomos <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="mobile-nav-links"><a href="/cuota-autonomos" class="mobile-nav-link">ğŸ’¼ Cuota Mensual</a><a href="/facturas" class="mobile-nav-link">ğŸ§¾ Facturas</a></div></div></nav>

<main>
    <section class="hero-mini"><div class="container"><div class="hero-badge">ğŸ§¾ AutÃ³nomos 2026</div><h1>Calculadora Facturas<br><span class="highlight">Â¿CuÃ¡nto cobrarÃ¡s realmente?</span></h1><p>Calcula el total de tus facturas con IVA y retenciÃ³n IRPF. Para empresas o particulares.</p></div></section>

    <section class="calc-section">
        <div class="container">
            <div class="card">
                <div class="card-title"><div class="card-icon">ğŸ“</div>Datos de tu factura</div>
                <form id="calc">
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">Base imponible (tus honorarios)</label><input type="number" class="form-input" id="base" placeholder="1000" required><span class="form-hint">Sin IVA ni retenciones</span></div>
                        <div class="form-group"><label class="form-label">Tipo de IVA</label><select class="form-select" id="iva"><option value="21" selected>General (21%)</option><option value="10">Reducido (10%)</option><option value="4">Superreducido (4%)</option><option value="0">Exento (0%)</option></select></div>
                        <div class="form-group"><label class="form-label">Cliente</label><select class="form-select" id="cliente"><option value="empresa" selected>Empresa o autÃ³nomo (con retenciÃ³n)</option><option value="particular">Particular (sin retenciÃ³n)</option><option value="extranjero">Extranjero UE (sin IVA)</option></select></div>
                        <div class="form-group" id="retencionGroup"><label class="form-label">RetenciÃ³n IRPF</label><select class="form-select" id="irpf"><option value="15" selected>EstÃ¡ndar (15%)</option><option value="7">Nuevo autÃ³nomo (7%) - primeros 3 aÃ±os</option><option value="0">Sin retenciÃ³n</option><option value="1">RetenciÃ³n 1% (mÃ³dulos)</option><option value="2">RetenciÃ³n 2% (mÃ³dulos)</option></select></div>
                        <div class="form-group"><label class="form-label">Conceptos adicionales (gastos suplidos)</label><input type="number" class="form-input" id="gastos" placeholder="0" value="0"><span class="form-hint">Opcional: transporte, materiales...</span></div>
                    </div>
                    <div class="disclaimer-box"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg><p><strong>Recuerda:</strong> La retenciÃ³n es un pago anticipado del IRPF. Lo recuperas al hacer la declaraciÃ³n de la renta si has pagado de mÃ¡s.</p></div>
                    <button type="submit" class="btn">Calcular factura</button>
                    <p class="btn-text"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>100% privado Â· Tus datos no salen de tu dispositivo</p>
                </form>

                <div class="result" id="result">
                    <div class="result-hero"><p class="result-label">Total a cobrar</p><p class="result-value" id="total">0 â‚¬</p><p class="result-sub" id="resultSub"></p></div>
                    <div class="result-breakdown">
                        <div class="result-row"><span class="result-row-label">ğŸ“‹ Base imponible</span><span class="result-row-value" id="baseRes">0 â‚¬</span></div>
                        <div class="result-row bruto"><span class="result-row-label">â• IVA</span><span class="result-row-value" id="ivaRes">0 â‚¬</span></div>
                        <div class="result-row" id="retencionRow"><span class="result-row-label">â– RetenciÃ³n IRPF</span><span class="result-row-value" id="irpfRes">0 â‚¬</span></div>
                        <div class="result-row exento"><span class="result-row-label">ğŸ’° Total factura</span><span class="result-row-value" id="totalFactura">0 â‚¬</span></div>
                    </div>
                    <div class="result-grid" id="details"></div>
                    <div class="fiscal-box" id="fiscalBox"><div class="fiscal-title">ğŸ“Š Desglose de la factura</div><div id="fiscalContent"></div></div>
                    <div class="result-actions"><button type="button" class="btn-secondary" id="reset">ğŸ”„ Nueva consulta</button><a href="#" class="btn-wa" id="wa" target="_blank">ğŸ“± WhatsApp</a></div>
                </div>
            </div>
        </div>
    </section>

    <div class="container"><div class="ad"></div></div>

    <section class="section"><div class="container"><article class="seo-section"><h2>ğŸ“– El caso de Andrea: Nueva autÃ³noma diseÃ±adora</h2>
        <div class="example-box">
            <div class="example-header"><span class="example-icon">ğŸ‘©â€ğŸ¨</span><div><strong>Andrea, diseÃ±adora freelance en MÃ¡laga</strong><p>Nueva autÃ³noma (retenciÃ³n 7%) Â· Factura a empresa</p></div></div>
            <div class="example-story"><p>Andrea acaba de darse de alta como autÃ³noma y va a emitir su primera factura a una agencia de marketing por un proyecto de diseÃ±o web de <strong>1.500â‚¬</strong>.</p></div>
            <div class="example-calc"><h4>ğŸ§® CÃ¡lculo de su factura:</h4>
                <div class="calc-steps">
                    <div class="calc-step"><span class="step-num">1</span><div><strong>Base imponible:</strong><p>Honorarios del proyecto = <strong>1.500â‚¬</strong></p></div></div>
                    <div class="calc-step"><span class="step-num">2</span><div><strong>+ IVA 21%:</strong><p>1.500â‚¬ Ã— 21% = <strong>+315â‚¬</strong></p></div></div>
                    <div class="calc-step"><span class="step-num">3</span><div><strong>- RetenciÃ³n IRPF 7%:</strong><p>1.500â‚¬ Ã— 7% = <strong>-105â‚¬</strong></p></div></div>
                </div>
                <div class="example-result">
                    <div class="example-result-row"><span>Base imponible</span><span class="amount">1.500 â‚¬</span></div>
                    <div class="example-result-row"><span>+ IVA (21%)</span><span class="amount">+315 â‚¬</span></div>
                    <div class="example-result-row"><span>- RetenciÃ³n (7%)</span><span class="amount" style="color:var(--warning)">-105 â‚¬</span></div>
                    <div class="example-result-row total"><span>Total a cobrar</span><span class="amount">1.710 â‚¬</span></div>
                </div>
            </div>
            <div class="example-tip"><strong>ğŸ’¡ Consejo de Andrea:</strong> "Como soy nueva autÃ³noma, puedo aplicar el 7% de retenciÃ³n los primeros 3 aÃ±os en lugar del 15%. Â¡Me viene genial para la liquidez! Eso sÃ­, luego tendrÃ© que regularizarlo en la renta."</div>
        </div>
    </article></div></section>

    <section class="section section-alt"><div class="container"><h2 class="section-title">â“ Preguntas frecuentes sobre Facturas</h2>
        <div class="faq-list">
            <div class="faq-item"><button class="faq-q"><span>Â¿CuÃ¡ndo debo aplicar retenciÃ³n en mis facturas?</span><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="faq-a"><p>Debes aplicar retenciÃ³n IRPF cuando factures a <strong>empresas o autÃ³nomos</strong>. No apliques retenciÃ³n a:</p><ul><li>Particulares (personas fÃ­sicas no profesionales)</li><li>Clientes extranjeros</li><li>Si estÃ¡s en mÃ³dulos con retenciÃ³n especÃ­fica</li></ul></div></div>
            <div class="faq-item"><button class="faq-q"><span>Â¿QuÃ© retenciÃ³n debo aplicar: 7% o 15%?</span><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="faq-a"><p>Puedes aplicar el <strong>7% reducido</strong> si:</p><ul><li>Te has dado de alta por primera vez como autÃ³nomo</li><li>No habÃ­as ejercido la misma actividad en el aÃ±o anterior</li><li>Es aplicable durante los <strong>3 primeros aÃ±os</strong></li></ul><p>DespuÃ©s, la retenciÃ³n estÃ¡ndar es del <strong>15%</strong>.</p></div></div>
            <div class="faq-item"><button class="faq-q"><span>Â¿QuÃ© pasa con el IVA que cobro en las facturas?</span><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="faq-a"><p>El IVA que cobras <strong>no es dinero tuyo</strong>: debes ingresarlo a Hacienda trimestralmente (modelo 303). Puedes restar el IVA de tus gastos deducibles:</p><ul><li><strong>IVA a ingresar</strong> = IVA cobrado - IVA soportado en gastos</li><li>Si el soportado es mayor, te lo devuelven o compensas</li></ul></div></div>
            <div class="faq-item"><button class="faq-q"><span>Â¿Puedo facturar sin ser autÃ³nomo?</span><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg></button><div class="faq-a"><p>Existe un <strong>criterio de habitualidad</strong>: si facturas de forma puntual y por debajo del SMI, algunos interpretan que no es obligatorio. Sin embargo, la <strong>postura oficial</strong> de la SS es que debes estar de alta desde la primera factura. Te arriesgas a sanciones si no lo haces.</p></div></div>
        </div>
    </div></section>

    <div class="container"><div class="ad"></div></div>

    <section class="section"><div class="container"><h2 class="section-title">ğŸ”— Calculadoras relacionadas</h2>
        <div class="cards-grid">
            <a href="/cuota-autonomos" class="calc-card"><div class="calc-card-icon">ğŸ’¼</div><h3>Cuota AutÃ³nomos</h3><p>Calcula tu cuota mensual segÃºn tus ingresos reales.</p><span class="calc-card-link">Calcular <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg></span></a>
            <a href="/irpf" class="calc-card"><div class="calc-card-icon">ğŸ“‘</div><h3>IRPF</h3><p>Calcula tu declaraciÃ³n con las retenciones acumuladas.</p><span class="calc-card-link">Calcular <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg></span></a>
            <a href="/sueldo-neto" class="calc-card"><div class="calc-card-icon">ğŸ¦</div><h3>Sueldo Neto</h3><p>Si tambiÃ©n eres asalariado, calcula tu nÃ³mina.</p><span class="calc-card-link">Calcular <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg></span></a>
        </div>
    </div></section>
    <section class="section"><div class="container"><div class="source-box"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/></svg><div><strong>Base legal:</strong><p>Tipos de IVA: Ley 37/1992 del IVA. Retenciones: Art. 101 Ley 35/2006 del IRPF.</p></div></div></div></section>
</main>

<footer class="footer">
    <div class="container">
        <div class="footer-grid-4">
            <div class="footer-brand">
                <a href="/" class="logo"><div class="logo-mark">CL</div>CalculaLoTuyo</a>
                <p class="footer-desc">Calculadoras laborales gratuitas basadas en el Estatuto de los Trabajadores y normativa 2026.</p>
                <div class="footer-badge"><span class="badge-dot"></span>Normativa 2026</div>
            </div>
            <div class="footer-col">
                <h4>Calculadoras</h4>
                <a href="/despido-improcedente">Despido Improcedente</a>
                <a href="/finiquito">Finiquito</a>
                <a href="/paro">PrestaciÃ³n Paro</a>
                <a href="/sueldo-neto">Sueldo Neto</a>
                <a href="/irpf">IRPF</a>
                <a href="/cuota-autonomos">Cuota AutÃ³nomos</a>
            </div>
            <div class="footer-col">
                <h4>GuÃ­as</h4>
                <a href="/guia-despido">GuÃ­a del Despido</a>
                <a href="/guia-sueldo-neto">GuÃ­a del Sueldo Neto</a>
                <a href="/guia-paro">GuÃ­a del Paro</a>
                <a href="/sobre-el-proyecto">Sobre el Proyecto</a>
            </div>
            <div class="footer-col">
                <h4>Legal</h4>
                <a href="/privacidad">Privacidad</a>
                <a href="/terminos">TÃ©rminos</a>
                <a href="/aviso-legal">Aviso Legal</a>
                <a href="/cookies">Cookies</a>
                <a href="/contacto">Contacto</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p class="footer-copy">Â© 2026 CalculaLoTuyo.es Â· Hecho con â™¥ en EspaÃ±a</p>
            <div class="footer-external">
                <a href="https://www.boe.es/buscar/act.php?id=BOE-A-2015-11430" target="_blank" rel="noopener">BOE<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"/></svg></a>
                <a href="https://www.sepe.es" target="_blank" rel="noopener">SEPE<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"/></svg></a>
            </div>
        </div>
        <div class="footer-disclaimer">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>
            <p><strong>Aviso:</strong> CÃ¡lculos orientativos basados en normativa vigente. No sustituyen el asesoramiento de un abogado laboralista.</p>
        </div>
    </div>
</footer>

<script>
document.querySelectorAll('[data-dropdown]').forEach(dd=>{const btn=dd.querySelector('[data-dropdown-btn]');btn.addEventListener('click',e=>{e.stopPropagation();const w=dd.classList.contains('open');document.querySelectorAll('[data-dropdown]').forEach(d=>d.classList.remove('open'));if(!w)dd.classList.add('open')})});document.addEventListener('click',()=>document.querySelectorAll('[data-dropdown]').forEach(d=>d.classList.remove('open')));
const menuBtn=document.getElementById('menuBtn'),mobileNav=document.getElementById('mobileNav');menuBtn.addEventListener('click',()=>{menuBtn.classList.toggle('active');mobileNav.classList.toggle('open');document.body.style.overflow=mobileNav.classList.contains('open')?'hidden':''});
document.querySelectorAll('[data-mobile-toggle]').forEach(btn=>{btn.addEventListener('click',()=>btn.parentElement.classList.toggle('open'))});
document.querySelectorAll('.faq-q').forEach(btn=>{btn.addEventListener('click',()=>{const item=btn.parentElement;const w=item.classList.contains('open');document.querySelectorAll('.faq-item').forEach(i=>i.classList.remove('open'));if(!w)item.classList.add('open')})});

const fmt=n=>new Intl.NumberFormat('es-ES',{style:'currency',currency:'EUR',maximumFractionDigits:0}).format(n);
const fmtDec=n=>new Intl.NumberFormat('es-ES',{style:'currency',currency:'EUR',minimumFractionDigits:2}).format(n);

// Mostrar/ocultar retenciÃ³n segÃºn cliente
document.getElementById('cliente').addEventListener('change',function(){
    const esEmpresa=this.value==='empresa';
    document.getElementById('retencionGroup').style.display=esEmpresa?'block':'none';
    if(this.value==='extranjero')document.getElementById('iva').value='0';
});

document.getElementById('calc').onsubmit=function(e){
    e.preventDefault();
    const base=+document.getElementById('base').value;
    const ivaPct=+document.getElementById('iva').value;
    const cliente=document.getElementById('cliente').value;
    const irpfPct=cliente==='empresa'?+document.getElementById('irpf').value:0;
    const gastos=+document.getElementById('gastos').value||0;
    
    if(!base){alert('Introduce la base imponible');return}
    
    const baseTotal=base+gastos;
    const ivaImporte=baseTotal*ivaPct/100;
    const irpfImporte=base*irpfPct/100; // RetenciÃ³n solo sobre honorarios, no gastos
    const totalFactura=baseTotal+ivaImporte-irpfImporte;
    
    // Mostrar
    document.getElementById('total').textContent=fmtDec(totalFactura);
    document.getElementById('baseRes').textContent=fmtDec(baseTotal);
    document.getElementById('ivaRes').textContent='+'+fmtDec(ivaImporte)+' ('+ivaPct+'%)';
    document.getElementById('irpfRes').textContent=irpfPct>0?'-'+fmtDec(irpfImporte)+' ('+irpfPct+'%)':'0 â‚¬';
    document.getElementById('totalFactura').textContent=fmtDec(totalFactura);
    document.getElementById('resultSub').textContent=irpfPct>0?'RetenciÃ³n '+irpfPct+'% adelantada a Hacienda':'Sin retenciÃ³n IRPF';
    
    document.getElementById('retencionRow').style.display=irpfPct>0?'flex':'none';
    
    document.getElementById('details').innerHTML=`
        <div class="result-item"><p class="result-item-label">IVA a ingresar</p><p class="result-item-value">${fmtDec(ivaImporte)}</p></div>
        <div class="result-item"><p class="result-item-label">IRPF anticipado</p><p class="result-item-value">${fmtDec(irpfImporte)}</p></div>
        <div class="result-item"><p class="result-item-label">Tu beneficio real</p><p class="result-item-value">${fmtDec(base)}</p></div>
    `;
    
    document.getElementById('fiscalContent').innerHTML=`
        <div class="fiscal-row"><span>Base imponible</span><span>${fmtDec(baseTotal)}</span></div>
        <div class="fiscal-row"><span>+ IVA ${ivaPct}%</span><span>+${fmtDec(ivaImporte)}</span></div>
        ${irpfPct>0?`<div class="fiscal-row warning"><span>- RetenciÃ³n IRPF ${irpfPct}%</span><span>-${fmtDec(irpfImporte)}</span></div>`:''}
        <div class="fiscal-row highlight"><span><strong>Total factura</strong></span><span><strong>${fmtDec(totalFactura)}</strong></span></div>
    `;
    
    document.getElementById('wa').href='https://wa.me/?text='+encodeURIComponent(`ğŸ§¾ Factura:\nğŸ“‹ Base: ${fmtDec(base)}\nâ• IVA: +${fmtDec(ivaImporte)}\n${irpfPct>0?`â– IRPF: -${fmtDec(irpfImporte)}\n`:''}ğŸ’° Total: ${fmtDec(totalFactura)}\n\nhttps://calculalotuyo.es/facturas`);
    document.getElementById('result').classList.add('visible');
    document.getElementById('result').scrollIntoView({behavior:'smooth'});
};
document.getElementById('reset').onclick=function(){document.getElementById('calc').reset();document.getElementById('result').classList.remove('visible');window.scrollTo({top:0,behavior:'smooth'})};
</script>
</body>
</html>
